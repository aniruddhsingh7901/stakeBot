# Event-Driven Staking Bot Configuration (Production-Optimized)
# Edit values as needed. This file is read at startup by stake_bot.py

# Network to connect to: "finney" (mainnet) or "test"
network: finney
# Optional: custom websocket RPC endpoint (e.g., wss://your-node:443). Leave empty to use default providers.
chain_endpoint: ""

# Bittensor wallet identifiers
wallet_name: alec
hotkey_name: alec-1
# Optional: set once to avoid interactive prompt every run (stored in env during process)
wallet_password: "7974773086Ani@"
# Optional: stake to a validator's hotkey (SS58) on the target subnet. Leave empty to stake to your own hotkey.
target_hotkey: "5E2LP6EnZ54m3wS8s1yPvD5c3xo71kQroBw7aUVK32TKeZ5u"

# Stake amount in TAO (floating point). Example: 0.05
stake_amount: 0.01

# Subnet targeting mode: "any" triggers on any subnet with >=2 StakeAdded in a block; "single" restricts to subnet_id
subnet_mode: any
# When subnet_mode: single, only this subnet id will trigger (default 63 shown as example)
#subnet_id: 63

# =========================
# Performance & Behavior
# =========================
# fast_mode true enables explicit nonce + optional tip, direct extrinsic submit for minimal latency
fast_mode: true

# Optional tip in TAO to improve transaction priority (0 for none). Example: 0.001
tip_tao: 0.001

# Submit without waiting for inclusion/finalization for max speed
wait_for_inclusion: false
wait_for_finalization: false

# =========================
# Submission and retry behavior
# =========================
max_retries: 5
retry_backoff_seconds: 0.5     # initial backoff for retries
max_backoff_seconds: 4.0       # cap for backoff

# =========================
# Websocket reconnect/backoff on disconnects or RPC issues
# =========================
ws_reconnect_backoff_seconds: 1.0
ws_reconnect_max_backoff_seconds: 8.0

# =========================
# Subscription strategy overrides (force reliable mode on this server)
# =========================
subscription_mode: poll           # auto | callback | poll
header_wait_timeout_seconds: 3.0  # since blocks are ~12s, use 2-3s to fallback fast
# Polling interval (seconds) when subscription_mode is poll or when falling back to poll
poll_interval_seconds: 0.5

# =========================
# Logging configuration
# =========================
log_level: DEBUG         # DEBUG | INFO | WARNING | ERROR
log_to_file: true
log_file: stake_bot.log

# =========================
# State persistence (to survive restarts cleanly)
# =========================
persist_state: true
state_file: stake_state.json

# =========================
# Trigger safety
# =========================
# If false: do not trigger a new stake while an unstake is pending (safer nonces)
# If true: allow overlapping triggers (more aggressive; ensure you can handle nonce priority)
allow_overlap_triggers: false
